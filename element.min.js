customElements.get("flag-olympic")||document.head.append(Object.assign(document.createElement("script"),{src:"//flagmeister.github.io/elements.flagmeister.min.js"})),customElements.whenDefined("flag-olympic").then(()=>{customElements.define("olympic-medal-ranking",class extends HTMLElement{async connectedCallback(){setTimeout(()=>this.connectedCallback(),3e5);const t=(t,e={},l=[])=>{let a=Object.assign(document.createElement(t),e);return a.append(...l),a},e=(e,l,a,o={})=>t("td",{className:e,part:l,innerHTML:a,...o}),l=this.getAttribute("lang")||"ENG",a=`//olympics.com/OG2024/data/CIS_MedalNOCs~lang=${l}~comp=OG2024.json`,o="AFG:af,ALB:al,ALG:dz,AND:ad,ANG:ao,ANT:ag,ARG:ar,ARM:am,ARU:aw,ASA:as,AUS:au,AUT:at,AZE:az,BAH:bs,BRN:bh,BAN:bd,BAR:bb,BLR:by,BEL:be,BEN:bj,BER:bm,BHU:bt,BOL:bo,BIH:ba,BOT:bw,BRA:br,IVB:vg,BRU:bn,BUL:bg,BUR:bf,BDI:bi,CPV:cv,CAM:kh,CMR:cm,CAN:ca,CAY:ky,CAF:cf,CHA:td,CHI:cl,CHN:cn,COL:co,COM:km,COD:cd,COK:ck,CRC:cr,CIV:ci,CRO:hr,CUB:cu,CYP:cy,CZE:cz,DEN:dk,DJI:dj,DMA:dm,DOM:do,ECU:ec,EGY:eg,ESA:sv,GEQ:gq,ERI:er,EST:ee,ETH:et,FIJ:fj,FIN:fi,FRA:fr,GAB:ga,GAM:gm,GEO:ge,GER:de,GHA:gh,GRE:gr,GRN:gd,GUM:gu,GUA:gt,GUI:gn,GBS:gw,GUY:gy,HAI:ht,HON:hn,HKG:hk,HUN:hu,ISL:is,IND:in,INA:id,IRI:ir,IRQ:iq,IRL:ie,ISR:il,ITA:it,JAM:jm,JPN:jp,JOR:jo,KAZ:kz,KEN:ke,PRK:kp,KOR:kr,KOS:xk,KUW:kw,KGZ:kg,LAO:la,LAT:lv,LBN:lb,LES:ls,LBR:lr,LBA:ly,LIE:li,LTU:lt,LUX:lu,MAD:mg,MAW:mw,MAS:my,MDV:mv,MLI:ml,MLT:mt,MTN:mr,MRI:mu,MEX:mx,MDA:md,MGL:mn,MNG:mn,MNE:me,MAR:ma,MOZ:mz,MYA:mm,NAM:na,NRU:nr,NEP:np,NED:nl,NZL:nz,NCA:ni,NIG:ng,NOR:no,OMA:om,PAK:pk,PLW:pw,PLE:ps,PAN:pa,PNG:pg,PAR:py,PER:pe,PHI:ph,POL:pl,POR:pt,PUR:pr,QAT:qa,ROU:ro,RUS:ru,RWA:rw,SKN:kn,LCA:lc,VIN:vc,SAM:ws,SMR:sm,STP:st,KSA:sa,SEN:sn,SRB:rs,SEY:sc,SLE:sl,SGP:sg,SVK:sk,SLO:si,SOL:sb,SOM:so,RSA:za,ESP:es,SRI:lk,SUD:sd,SUR:sr,SWZ:sz,SWE:se,SUI:ch,SYR:sy,TPE:tw,TJK:tj,TAN:tz,THA:th,TLS:tl,TOG:tg,TGA:to,TRI:tt,TUN:tn,TUR:tr,TKM:tm,UGA:ug,UKR:ua,UAE:ae,GBR:gb,USA:us,URU:uy,UZB:uz,VAN:vu,VEN:ve,VIE:vn,ISV:vi,YEM:ye,ZAM:zm,ZIM:zw".split(",").map(t=>t.split(":")).reduce((t,[e,l])=>(t[e]=l,t),{}),r={gold:t=>t.sort((t,e)=>e.gold-t.gold||e.silver-t.silver||e.bronze-t.bronze||e.total-t.total),silver:t=>t.sort((t,e)=>e.silver-t.silver||e.gold-t.gold||e.bronze-t.bronze||e.total-t.total),bronze:t=>t.sort((t,e)=>e.bronze-t.bronze||e.gold-t.gold||e.silver-t.silver||e.total-t.total),total:t=>t.sort((t,e)=>e.total-t.total||e.gold-t.gold||e.silver-t.silver||e.bronze-t.bronze)};let n=this.getAttribute("sort")||"gold",s=this.getAttribute("flag")||"olympic",i=this.getAttribute("games")||"Paris 2024",d=this.getAttribute("filter"),g=this.getAttribute("total")||10;"all"==d&&(d=""),"EU"==d&&(d="AUT,BEL,BUL,CRO,CYP,CZE,DEN,EST,FIN,FRA,GER,GRE,HUN,IRL,ITA,LAT,LTU,LUX,MLT,NED,POL,POR,ROU,SVK,SLO,ESP,SWE",g="all"),"all"==g&&(g=999);const m=(await(await fetch(a)).json()).medalNOC,A=(r[n]||(console.warn("invalid sort",n),r.gold))(m.filter(t=>"TOT"===t.gender&&"GLO"===t.sport)).map(t=>({country:{code:t.org,name:t.organisation.description,flag:o[t.org]||console.error("Missing flag",t)},ranking:{rank:t.rank,equal:t.rankEqual,total:t.rankTotal,totalequal:t.rankTotalEqual},medals:{gold:t.gold,silver:t.silver,bronze:t.bronze,total:t.total}}));console.log(`%c ${A.length} countries won medals `,"background:gold"),(this.shadowRoot||this.attachShadow({mode:"open"})).append(t("style",{innerHTML:"table{border-collapse:collapse;font:100% Arial;border:1px solid grey}td{padding:3px;text-align:left;border-bottom:1px solid lightgrey}.header,.rank,.flag,.medals{text-align:center;width:10%}.gold{background:gold}.silver{background:silver}.bronze{background:peru}.flag img{aspect-ration:4/3;display:inline-block;max-width:100%;border:1px solid grey;vertical-align:top}"}),t("table",{part:"table"},[t("thead",{part:"thead"},[t("tr",{innerHTML:`<td colspan=3><flag-${s} detail=10000></flag-${s}></td>`+`<td colspan=5 class=header part=header><slot>${i}</slot></td>`})]),t("tbody",{part:"tbody"},[...A.slice(0,g).map((l,a)=>{const{code:o,name:r,flag:s}=l.country;return d&&!d.includes(o)?"":t("tr",{id:o,title:r,onclick:t=>document.location="//olympics.com/en/paris-2024/medals/"+c.title.toLowerCase()},[e("rank","rank","total"==n?l.ranking.total:l.ranking.rank),e("flag","flag",`<flag-${s} `+((this.hasAttribute("detailflags")?"ECU,KAZ,MEX,KAZ,MGL,MDA,EGY,FIJ,DOM":"").includes(o)?"detail=1":"")+`></flag-${s}>`),e("countrycode","countrycode",o),e("countryname","countryname",r),...["gold","silver","bronze","total"].map(t=>e("medals "+t,"medal medal"+t,l.medals[t],{onclick:t=>{}}))])})])]))}})});